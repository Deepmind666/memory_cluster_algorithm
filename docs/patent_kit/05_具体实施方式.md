# 05 具体实施方式

## 实施例一：冲突保真模式（推荐）
- 场景：planner/writer/verifier 共同写入专利草稿记忆池。
- 设置：`keep_conflicts=true`，`category_strength.method=strong`。
- 行为：同主题碎片被聚类；参数冲突（如 alpha=0.2/0.7）被显式记录。
- 结果：避免冲突值静默覆盖，检索时可定位双方证据。

## 实施例二：层次压缩模式
- 场景：长周期项目，簇数量持续增长。
- 设置：启用二级簇聚类，形成主题树。
- 行为：上层摘要用于快速路由，下层 backrefs 保留细节。
- 结果：降低全量扫描耗时，提高查询吞吐。

## 实施例三：偏好保留模式
- 场景：噪声日志与关键证据混合写入。
- 设置：`noise=discardable`，`verifier_agent` 权重提升。
- 行为：日志碎片降级压缩，证据碎片保留较高细节预算。
- 结果：在相同容量下提升关键信息保真度。

## 实施细节补充
- 可采用 JSONL 或 SQLite 存储。
- 向量化实现可替换，不限制具体模型。
- 阈值 `T_sim`、`T_merge` 可由离线评估集标定。

## 实施例四：冲突证据图 + 自适应预算 + 双通道门控
- 场景：多 Agent 并行更新参数建议，语义高度相似但槽位值冲突频发。
- 设置：
  - `enable_conflict_graph=true`
  - `enable_adaptive_budget=true`
  - `enable_dual_merge_guard=true`
- 行为：
  - 对冲突槽位生成证据图，计算冲突优先级与值切换次数；
  - 对高冲突高熵簇自动分配更高摘要预算；
  - 对语义接近但槽位冲突不兼容的簇阻断合并。
- 技术效果：
  - 降低错误合并率；
  - 提升冲突可解释性；
  - 在固定预算约束下提高关键证据保真度。
