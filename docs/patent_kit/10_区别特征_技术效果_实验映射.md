# 10 区别特征-技术效果-实验数据映射

- generated_at: 2026-02-14T10:28:28.455437+00:00
- data_snapshot_at: 2026-02-14T10:27:30.608281+00:00
- evidence_items: 6
- validation_passed: True

## 1. 总览

| 特征ID | 区别特征 | 权利要求 | 核心主张 | 状态 |
|---|---|---|---|---|
| DF-01 | 冲突证据图 CEG | 权利要求1/权利要求4/权利要求5 | 是 | core_claim_ready |
| DF-02 | 自适应保留预算 ARB | 权利要求1/权利要求6/权利要求7 | 是 | core_claim_ready |
| DF-03 | 双通道合并门控 DMG | 权利要求1/权利要求8/权利要求9 | 是 | core_claim_ready |
| DF-04 | 冲突语义精度抽取 | 权利要求1/权利要求10/权利要求11 | 是 | core_claim_ready |
| DF-05 | 合并上界剪枝 Prune | 权利要求12 | 否 | optional_impl_only |
| DF-06 | 候选筛选/ANN 加速路径 | 权利要求13/权利要求14 | 否 | optional_experimental |

## 2. 核心主张（建议重点保护）

### DF-01 冲突证据图 CEG
- 权利要求映射: 权利要求1/权利要求4/权利要求5
- 技术问题: 同槽位多值冲突缺少可量化证据链与优先级排序。
- 技术手段: 构建冲突值节点、值切换边、证据计数，计算主导值与冲突优先级。
- 技术效果: 冲突优先级可计算、可审计、可排序。
- 指标证据:
  - small_conflict_priority_avg_gain: 8.8
  - large_conflict_priority_avg_gain: 2.29
  - scaling_realistic_n1000_gain: 2.29
  - scaling_stress_n1000_gain: 17
  - semi_real_realistic_n5000_gain: 181.1
  - semi_real_stress_n5000_gain: 1748.8
- 证据文件:
  - `outputs/ablation_metrics.json`
  - `outputs/ablation_metrics_large.json`
  - `outputs/core_scaling_realistic.json`
  - `outputs/core_scaling_stress.json`
  - `outputs/core_ablation_semi_real_5000_realistic.json`
  - `outputs/core_ablation_semi_real_5000_stress_runs2.json`
  - `outputs/core_claim_stability_semi_real_5000_realistic.json`
  - `outputs/core_claim_stability_semi_real_5000_stress.json`
  - `src/memory_cluster/compress.py`
- 可复现命令ID:
  - `CMD_ABLATION_SMALL`
  - `CMD_ABLATION_LARGE`
  - `CMD_CORE_SCALING_REALISTIC`
  - `CMD_CORE_SCALING_STRESS`
  - `CMD_ABLATION_SEMI_REAL_REALISTIC`
  - `CMD_ABLATION_SEMI_REAL_STRESS`
  - `CMD_CORE_STABILITY_REALISTIC_5000`
  - `CMD_CORE_STABILITY_STRESS_5000_BATCH1`
  - `CMD_CORE_STABILITY_STRESS_5000_RESUME`

### DF-02 自适应保留预算 ARB
- 权利要求映射: 权利要求1/权利要求6/权利要求7
- 技术问题: 固定预算在冲突密集区域无法保留足够证据。
- 技术手段: 按冲突密度、来源熵、时效衰减三因子联合分配并限幅预算。
- 技术效果: 关键簇预算与信息保真度提升。
- 指标证据:
  - small_detail_budget_avg_gain: 68
  - large_detail_budget_avg_gain: 38.2
  - scaling_realistic_n1000_gain: 36.1
  - scaling_stress_n1000_gain: 55
  - semi_real_realistic_n5000_gain: 76.8
  - semi_real_stress_n5000_gain: 2
- 证据文件:
  - `outputs/ablation_metrics.json`
  - `outputs/ablation_metrics_large.json`
  - `outputs/core_scaling_realistic.json`
  - `outputs/core_scaling_stress.json`
  - `outputs/core_ablation_semi_real_5000_realistic.json`
  - `outputs/core_ablation_semi_real_5000_stress_runs2.json`
  - `outputs/core_claim_stability_semi_real_5000_realistic.json`
  - `outputs/core_claim_stability_semi_real_5000_stress.json`
  - `src/memory_cluster/preference.py`
- 可复现命令ID:
  - `CMD_ABLATION_SMALL`
  - `CMD_ABLATION_LARGE`
  - `CMD_CORE_SCALING_REALISTIC`
  - `CMD_CORE_SCALING_STRESS`
  - `CMD_ABLATION_SEMI_REAL_REALISTIC`
  - `CMD_ABLATION_SEMI_REAL_STRESS`
  - `CMD_CORE_STABILITY_REALISTIC_5000`
  - `CMD_CORE_STABILITY_STRESS_5000_BATCH1`
  - `CMD_CORE_STABILITY_STRESS_5000_RESUME`

### DF-03 双通道合并门控 DMG
- 权利要求映射: 权利要求1/权利要求8/权利要求9
- 技术问题: 仅按语义相似度会误合并冲突碎片。
- 技术手段: 语义相似阈值与冲突兼容阈值联合门控，冲突不兼容直接阻断。
- 技术效果: 显著降低冲突混簇，阻断高风险合并。
- 指标证据:
  - small_merge_block_gain: 4
  - stress_merge_block_gain: 120
  - scaling_stress_n500_block_gain: 403
  - scaling_stress_n1000_block_gain: 735
  - semi_real_stress_n5000_block_gain: 30746
- 证据文件:
  - `outputs/ablation_metrics.json`
  - `outputs/ablation_metrics_stress.json`
  - `outputs/core_scaling_stress.json`
  - `outputs/core_ablation_semi_real_5000_stress_runs2.json`
  - `outputs/core_claim_stability_semi_real_5000_stress.json`
  - `src/memory_cluster/cluster.py`
- 可复现命令ID:
  - `CMD_ABLATION_SMALL`
  - `CMD_ABLATION_STRESS`
  - `CMD_CORE_SCALING_STRESS`
  - `CMD_ABLATION_SEMI_REAL_STRESS`
  - `CMD_CORE_STABILITY_STRESS_5000_BATCH1`
  - `CMD_CORE_STABILITY_STRESS_5000_RESUME`

### DF-04 冲突语义精度抽取
- 权利要求映射: 权利要求1/权利要求10/权利要求11
- 技术问题: 条件句、否定、反事实与跨句指代引起误报漏报。
- 技术手段: 作用域隔离 + 否定窗口 + 中英双语回指联合解析。
- 技术效果: 语义回归集保持零违规约束。
- 指标证据:
  - case_count: 8
  - case_pass_rate: 1
  - expected_hit_rate: 1
  - forbidden_violations: 0
- 证据文件:
  - `outputs/semantic_regression_metrics.json`
  - `docs/eval/semantic_regression_report.md`
  - `src/memory_cluster/compress.py`
- 可复现命令ID:
  - `CMD_SEMANTIC`

## 3. 可选实施例（不建议作为核心独立主张）

### DF-05 合并上界剪枝 Prune
- 权利要求映射: 权利要求12
- 技术问题: 簇对全比较带来计算开销膨胀。
- 技术手段: 利用余弦上界估计，低于阈值时跳过精确相似度计算。
- 当前结论: 稀疏场景可提速，active 场景收益不稳定。
- 指标证据:
  - primary_avg_speedup_ratio: -0.055476
  - sparse_avg_speedup_ratio: 0.233942
  - sparse_optimized_pairs_pruned: 2519
  - realistic_avg_speedup_ratio: -0.163156
- 证据文件:
  - `outputs/prune_benchmark.json`
  - `docs/eval/prune_benchmark_report.md`
  - `src/memory_cluster/cluster.py`
- 可复现命令ID:
  - `CMD_PRUNE`
- 风险说明: 不作为核心授权叙事，仅建议作为可选实施例。

### DF-06 候选筛选/ANN 加速路径
- 权利要求映射: 权利要求13/权利要求14
- 技术问题: 进一步减少候选簇对比较数量。
- 技术手段: 候选签名桶与 ANN 多表近似候选联合门控。
- 当前结论: 默认 Candidate 档位已验证零损失；active 场景总体仍偏负加速，实验档 candidate/ANN 仍需风险披露。
- 指标证据:
  - candidate_sparse_avg_speedup_ratio: 0.002472
  - candidate_active_avg_speedup_ratio: 0.046391
  - candidate_active_quality_gate_pass: True
  - candidate_active_merges_applied_equal: True
  - ann_sparse_avg_speedup_ratio: 0.083538
  - ann_active_avg_speedup_ratio: -0.09661
  - ann_active_quality_gate_pass: True
  - ann_candidate_active_quality_gate_pass: True
  - hybrid_active_avg_speedup_ratio: -0.379933
  - hybrid_active_quality_gate_pass: True
  - profile_synth_default_all_quality_gate_pass: True
  - profile_synth_fast_all_quality_gate_pass: False
  - profile_synth_fast_min_speedup_ratio: -0.134499
  - profile_realistic_fast_min_speedup_ratio: 0.018354
  - profile_stress_fast_min_speedup_ratio: -0.050814
  - profile_synth_recommendation: keep_default_radius4
  - profile_realistic_recommendation: fast_profile_can_be_promoted_after_more_runs
  - profile_stress_recommendation: keep_default_radius4
  - stage2_guardrail_passed: True
  - stage2_guardrail_blocker_failures: 0
  - stage2_guardrail_warning_failures: 1
  - stage2_guardrail_fast_profile_loss_known: True
  - stage2_guardrail_ann_active_not_positive_speedup: True
  - stage2_guardrail_candidate_active_speed: 0.046391
  - stage2_guardrail_ann_active_speed: -0.09661
  - stage2_guardrail_core_stability_profile_count: 2
  - stage2_guardrail_core_stability_incomplete_count: 0
- 证据文件:
  - `outputs/candidate_filter_benchmark.json`
  - `outputs/candidate_profile_validation_synthetic_active.json`
  - `outputs/candidate_profile_validation_realistic.json`
  - `outputs/candidate_profile_validation_stress.json`
  - `outputs/stage2_guardrail.json`
  - `outputs/ann_hybrid_benchmark.json`
  - `outputs/stage3_param_sweep.json`
  - `docs/eval/candidate_filter_benchmark_report.md`
  - `docs/eval/candidate_profile_validation_summary.md`
  - `docs/eval/stage2_guardrail_report.md`
  - `docs/eval/ann_hybrid_benchmark_report.md`
  - `docs/eval/stage3_param_sweep_report.md`
  - `src/memory_cluster/cluster.py`
- 可复现命令ID:
  - `CMD_CANDIDATE`
  - `CMD_CANDIDATE_PROFILE_SYNTH`
  - `CMD_CANDIDATE_PROFILE_REALISTIC`
  - `CMD_CANDIDATE_PROFILE_STRESS`
  - `CMD_STAGE2_GUARDRAIL`
  - `CMD_ANN_HYBRID`
  - `CMD_STAGE3_SWEEP`
- 风险说明: 建议保留代码实现，但不作为核心独立主张。

## 4. 命令索引

- `CMD_ABLATION_SMALL`: `python scripts/run_ablation.py --output outputs/ablation_metrics.json --report docs/eval/ablation_report_cn.md`
- `CMD_ABLATION_LARGE`: `python scripts/run_ablation.py --output outputs/ablation_metrics_large.json --report docs/eval/ablation_report_large_cn.md --fragment-count 100 --similarity-threshold 0.68 --merge-threshold 0.82 --dataset-label synthetic_conflict_memory_case_large`
- `CMD_ABLATION_STRESS`: `python scripts/run_ablation.py --output outputs/ablation_metrics_stress.json --report docs/eval/ablation_report_stress_cn.md --fragment-count 100 --similarity-threshold 1.1 --merge-threshold 0.05 --dataset-label synthetic_conflict_memory_case_stress`
- `CMD_CORE_SCALING_REALISTIC`: `python scripts/run_core_scaling_benchmark.py --output outputs/core_scaling_realistic.json --report docs/eval/core_scaling_realistic_report.md --counts 100,500,1000,2000,5000 --runs 5 --profile realistic --dataset-label synthetic_core_scaling_case_realistic_v2`
- `CMD_CORE_SCALING_STRESS`: `python scripts/run_core_scaling_benchmark.py --output outputs/core_scaling_stress.json --report docs/eval/core_scaling_stress_report.md --counts 500,1000 --runs 4 --profile stress`
- `CMD_GEN_SEMI_REAL_REALISTIC`: `python scripts/generate_semi_real_dataset.py --output data/examples/semi_real_memory_fragments_5000_realistic.jsonl --fragment-count 5000 --profile realistic --seed 20260211`
- `CMD_GEN_SEMI_REAL_STRESS`: `python scripts/generate_semi_real_dataset.py --output data/examples/semi_real_memory_fragments_5000_stress.jsonl --fragment-count 5000 --profile stress --seed 20260211`
- `CMD_ABLATION_SEMI_REAL_REALISTIC`: `python scripts/run_core_ablation_on_dataset.py --input data/examples/semi_real_memory_fragments_5000_realistic.jsonl --output outputs/core_ablation_semi_real_5000_realistic.json --report docs/eval/core_ablation_semi_real_5000_realistic_report.md --runs 5 --warmup-runs 1 --similarity-threshold 0.68 --merge-threshold 0.82`
- `CMD_ABLATION_SEMI_REAL_STRESS`: `python scripts/run_core_ablation_on_dataset.py --input data/examples/semi_real_memory_fragments_5000_stress.jsonl --output outputs/core_ablation_semi_real_5000_stress_runs2.json --report docs/eval/core_ablation_semi_real_5000_stress_runs2_report.md --runs 2 --warmup-runs 0 --similarity-threshold 1.1 --merge-threshold 0.05`
- `CMD_CORE_STABILITY_REALISTIC`: `python scripts/run_core_claim_stability.py --input data/examples/semi_real_memory_fragments_2000_realistic.jsonl --output outputs/core_claim_stability_semi_real_2000_realistic.json --report docs/eval/core_claim_stability_semi_real_2000_realistic_report.md --runs 12 --warmup-runs 2 --similarity-threshold 0.68 --merge-threshold 0.82`
- `CMD_CORE_STABILITY_STRESS`: `python scripts/run_core_claim_stability.py --input data/examples/semi_real_memory_fragments_2000_stress.jsonl --output outputs/core_claim_stability_semi_real_2000_stress.json --report docs/eval/core_claim_stability_semi_real_2000_stress_report.md --runs 4 --warmup-runs 1 --similarity-threshold 1.1 --merge-threshold 0.05`
- `CMD_CORE_STABILITY_REALISTIC_5000`: `python scripts/run_core_claim_stability.py --input data/examples/semi_real_memory_fragments_5000_realistic.jsonl --output outputs/core_claim_stability_semi_real_5000_realistic.json --report docs/eval/core_claim_stability_semi_real_5000_realistic_report.md --runs 6 --warmup-runs 1 --similarity-threshold 0.68 --merge-threshold 0.82 --checkpoint outputs/core_claim_stability_semi_real_5000_realistic_checkpoint.json`
- `CMD_CORE_STABILITY_STRESS_5000_BATCH1`: `python scripts/run_core_claim_stability.py --input data/examples/semi_real_memory_fragments_5000_stress.jsonl --output outputs/core_claim_stability_semi_real_5000_stress.json --report docs/eval/core_claim_stability_semi_real_5000_stress_report.md --runs 3 --max-new-runs 1 --warmup-runs 0 --similarity-threshold 1.1 --merge-threshold 0.05 --checkpoint outputs/core_claim_stability_semi_real_5000_stress_checkpoint.json`
- `CMD_CORE_STABILITY_STRESS_5000_RESUME`: `python scripts/run_core_claim_stability.py --input data/examples/semi_real_memory_fragments_5000_stress.jsonl --output outputs/core_claim_stability_semi_real_5000_stress.json --report docs/eval/core_claim_stability_semi_real_5000_stress_report.md --runs 3 --max-new-runs 2 --warmup-runs 0 --similarity-threshold 1.1 --merge-threshold 0.05 --checkpoint outputs/core_claim_stability_semi_real_5000_stress_checkpoint.json --resume`
- `CMD_PRUNE`: `python scripts/run_prune_benchmark.py --output outputs/prune_benchmark.json --report docs/eval/prune_benchmark_report.md`
- `CMD_CANDIDATE`: `python scripts/run_candidate_filter_benchmark.py --output outputs/candidate_filter_benchmark.json --report docs/eval/candidate_filter_benchmark_report.md --fragment-count 240 --runs 10 --warmup-runs 2`
- `CMD_CANDIDATE_PROFILE_SYNTH`: `python scripts/run_candidate_profile_validation.py --dataset-label synthetic_active --output outputs/candidate_profile_validation_synthetic_active.json --report docs/eval/candidate_profile_validation_synthetic_active_report.md --sizes 240,1000,5000 --runs 2 --warmup-runs 1 --similarity-threshold 0.82 --merge-threshold 0.85`
- `CMD_CANDIDATE_PROFILE_REALISTIC`: `python scripts/run_candidate_profile_validation.py --dataset-input data/examples/semi_real_memory_fragments_5000_realistic.jsonl --dataset-label semi_real_realistic --output outputs/candidate_profile_validation_realistic.json --report docs/eval/candidate_profile_validation_realistic_report.md --sizes 240,1000,5000 --runs 2 --warmup-runs 1 --similarity-threshold 0.68 --merge-threshold 0.82`
- `CMD_CANDIDATE_PROFILE_STRESS`: `python scripts/run_candidate_profile_validation.py --dataset-input data/examples/semi_real_memory_fragments_5000_stress.jsonl --dataset-label semi_real_stress --output outputs/candidate_profile_validation_stress.json --report docs/eval/candidate_profile_validation_stress_report.md --sizes 240,1000,5000 --runs 1 --warmup-runs 0 --similarity-threshold 1.1 --merge-threshold 0.05`
- `CMD_STAGE2_GUARDRAIL`: `python scripts/run_stage2_guardrail.py --output outputs/stage2_guardrail.json --report docs/eval/stage2_guardrail_report.md --core-stability outputs/core_claim_stability_semi_real_5000_realistic.json --core-stability outputs/core_claim_stability_semi_real_5000_stress.json`
- `CMD_ANN_HYBRID`: `python scripts/run_ann_hybrid_benchmark.py --output outputs/ann_hybrid_benchmark.json --report docs/eval/ann_hybrid_benchmark_report.md --fragment-count 240 --runs 10 --warmup-runs 2`
- `CMD_SEMANTIC`: `python scripts/run_semantic_regression.py --output outputs/semantic_regression_metrics.json --report docs/eval/semantic_regression_report.md`
- `CMD_STAGE3_SWEEP`: `python scripts/run_stage3_param_sweep.py --output outputs/stage3_param_sweep.json --report docs/eval/stage3_param_sweep_report.md --fragment-count 120 --runs 3 --warmup-runs 1`

## 5. 一致性校验

- claim_numbers_in_06: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
- referenced_claim_numbers: [1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
- missing_claim_refs: []
- missing_evidence_files: []
- missing_metrics: []
- passed: True
